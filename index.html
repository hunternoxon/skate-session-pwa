<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0b0c" />
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="style.css" />
  <title>Brainlock Skateboard Game</title>
</head>
<body>
  <div class="safe">
    <header class="topbar">
      <h1 id="titleText" class="brand-left" aria-label="Brainlock Skateboard Game">Brainlock Skateboard Game</h1>
      <button id="settingsBtn" class="ghost icon" aria-label="Settings">⚙️</button>
      <div class="top-actions">
        <div class="range-row">
          <label for="skill">Level</label>
          <div class="range-wrap wide"><input id="skill" type="range" min="1" max="10" value="6" /><span id="skillVal">6</span></div>
        </div>
      </div>
    </header>
    <section class="preview-tray" id="previewTray">
      <div class="preview-grid">
        <div class="status-pill">Obstacles: <span id="obsNames">—</span> <button id="editObs" class="link">Edit</button></div>
        <div class="status-pill">Stances: <span id="stanceNames">—</span> <button id="editStance" class="link">Edit</button></div>
        <div class="status-pill">Tricks: <span id="trickSummary">—</span> <button id="editTricks" class="link">Edit</button></div>
      </div>
      <button id="collapsePreview" class="collapse-btn" aria-expanded="true" aria-label="Collapse settings preview">▲</button>
    </section>
    <main id="screen">
      <section class="card sheet" id="sheet">
        <div class="sheet-header">
          <div id="letters" class="letters-sheet" aria-hidden="false">
            <span>S</span><span>K</span><span>A</span><span>T</span><span>E</span>
          </div>
          <div class="total-score">Total Score: <span id="scoreTop">0.00</span></div>
        </div>
        <div id="viewSetup" class="view active">
          <div class="hero-emoji" aria-hidden="true">🧠 🔒 🛹</div>
          <button id="startBtn" class="primary xl full start-cta outer-pad">Start Session</button>
        </div>
        <div id="viewGame" class="view hidden" aria-live="polite">
          <div id="trick" class="trick bigtitle">
            <div class="trick-topline">
              <span id="attemptBadge" class="badge">Attempt 1/3</span>
              <span id="attemptPoints" class="badge right">This attempt: 0.00</span>
            </div>
            <div id="trickText">—</div>
          </div>
          <div class="actions right outer-pad">
            <button id="skipBtn" class="ghost xl">Skip</button>
            <button id="missBtn" class="danger xl">Miss</button>
            <button id="landBtn" class="success xl">Land</button>
            <button id="nextBtn" class="primary xl hidden">Next</button>
          </div>
          <details id="breakdown" class="breakdown">
            <summary>Breakdown</summary>
            <pre id="breakText"></pre>
          </details>
          <div class="sheet-actions outer-pad">
            <button id="endBtn" class="ghost lg">End Session</button>
          </div>
        </div>
        <div id="viewOver" class="view hidden">
          <div class="hero-emoji" aria-hidden="true">🧠 🔒 🛹</div>
          <h2>Session Over</h2>
          <div class="big">Final: <span id="finalScore">0.00</span></div>
          <div>Best: <span id="bestScore">0.00</span></div>
          <button id="restartBtn" class="primary xl full outer-pad">New Session</button>
        </div>
      </section>
    </main>
    <footer class="foot">v0.4.7</footer>
  </div>
  <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card">
      <div class="modal-header">
        <button id="settingsBack" class="ghost icon hidden" aria-label="Back">←</button>
        <h3 id="settingsTitle">Settings</h3>
        <button id="settingsClose" class="ghost icon" aria-label="Close">✕</button>
      </div>
      <div id="settingsHome" class="pane active">
        <div class="list">
          <button class="list-item" data-open="obsPane">Obstacles</button>
          <button class="list-item" data-open="stancePane">Stances</button>
          <button class="list-item" data-open="trickPane">Tricks</button>
          <button class="list-item" data-open="aboutPane">About & Tools</button>
        </div>
      </div>
      <div id="obsPane" class="pane">
        <h4>Obstacles</h4>
        <div id="obsChips" class="chips"></div>
      </div>
      <div id="stancePane" class="pane">
        <h4>Stances</h4>
        <div class="chips" id="stanceChips"></div>
      </div>
      <div id="trickPane" class="pane">
        <h4>Tricks</h4>
        <div class="chips subtle" id="catChips"></div>
        <div class="tabs underline tight">
          <button data-tab="flips" class="tab active">Flips</button>
          <button data-tab="grinds" class="tab">Grinds/Slides</button>
          <button data-tab="spins" class="tab">Spins</button>
        </div>
        <div class="panel flips grid"></div>
        <div class="panel grinds grid hidden"></div>
        <div class="panel spins grid hidden"></div>
      </div>
      <div id="aboutPane" class="pane">
        <h4>About & Tools</h4>
        <div class="toolrow">
          <button id="exportFeedback" class="ghost lg">Export Feedback</button>
          <button id="clearCache" class="ghost lg">Clear Cache & Reload</button>
        </div>
        <p class="muted">Tip: Add to Home Screen (Share → Add to Home Screen).</p>
        <div class="row end">
          <button id="settingsSave" class="primary lg">Save</button>
        </div>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
