:root{--bg:#0b0b0c;--card:#141416;--muted:#8a8e93;--text:#f3f4f6;--accent:#0ea5e9;--ok:#22c55e;--bad:#ef4444;--ghost:#1c1d20;--border:#222327}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:16px -apple-system,system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif;-webkit-font-smoothing:antialiased;line-height:1.35}
.hidden{display:none!important}
/* Keep content always tappable above the sheet */
.safe{min-height:100%;display:grid;grid-template-rows:auto auto auto 1fr auto;padding-bottom:320px;position:relative}
.topbar{position:sticky;top:0;z-index:7;display:grid;grid-template-columns:1fr auto;align-items:center;gap:8px;padding:8px 12px;border-bottom:1px solid var(--border);background:rgba(11,11,12,0.85);backdrop-filter:blur(8px)}
.brand-left{font-weight:800;letter-spacing:.2px;margin:0;cursor:pointer;font-size:18px;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.icon{font-size:18px}
.link{background:none;border:none;color:var(--accent);text-decoration:underline;padding:0}
.ghost{background:var(--ghost);color:var(--text);border:1px solid var(--border);padding:10px 12px;border-radius:12px;font-size:18px;min-height:40px;min-width:40px}
.primary{background:var(--accent);color:#001018;border:none;padding:14px 18px;border-radius:14px;font-weight:800}
.success{background:var(--ok);color:#051507;border:none;padding:14px 18px;border-radius:14px;font-weight:800}
.danger{background:var(--bad);color:#160203;border:none;padding:14px 18px;border-radius:14px;font-weight:800}
.level-row{display:flex;align-items:center;gap:8px;padding:8px 12px;position:relative;z-index:6}
.pill{background:#141416;border:1px solid var(--border);border-radius:999px;padding:6px 10px}
.gameopts{margin:0 12px 8px;border:1px solid #1c1d20;background:#0d0e10;border-radius:12px;padding:8px 10px;position:relative;z-index:6}
.go-header{display:flex;align-items:center;justify-content:space-between}
.chev{background:#0f1012;border:1px solid var(--border);border-radius:999px;color:#8a8e93;padding:4px 10px}
.go-body .row{display:flex;align-items:center;justify-content:space-between;margin-top:8px}
.label{font-weight:700}
.summary{color:#cbd5e1;font-size:13px;margin-top:2px}
.muted{color:var(--muted)}
.small{font-size:12px}
.card{margin:16px;padding:16px;border:1px solid var(--border);border-radius:16px;background:var(--card)}
/* Bottom tray: lower z-index than topbar + options; pointer-events limited to itself */
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:3;border-top-left-radius:18px;border-top-right-radius:18px;border-bottom-left-radius:0;border-bottom-right-radius:0;margin:0;padding:16px;background:var(--card);max-height:58vh;overflow:auto;padding-bottom:calc(env(safe-area-inset-bottom) + 28px)}
.sheet-header{display:flex;flex-direction:column;align-items:center;gap:4px;margin:0 0 8px}
.letters-sheet{display:flex;justify-content:center;gap:0.8ch}
.letters-sheet>span{font-weight:900;font-size:clamp(26px,9vw,48px);color:#7f858c}
.letters-sheet>span.lost{color:#ffffff}
.scoreline{font-weight:700}
.view.hidden{display:none}.view.active{display:block}
.hero-emoji{font-size:42px;opacity:.9;text-align:center;margin:8px 0 14px}
.trick.bigtitle{font-size:28px;font-weight:800;padding:16px;background:#101215;border:1px dashed var(--border);border-radius:14px;min-height:72px;display:flex;flex-direction:column;gap:10px}
.trick-topline{display:flex;justify-content:space-between;align-items:center}
.badge{font-size:12px;color:#cbd5e1;background:#0b0c0e;border:1px solid var(--border);padding:4px 8px;border-radius:8px}
.badge.right{margin-left:auto}
#trickText{font-size:22px}
.actions{display:flex;gap:12px;justify-content:flex-end;margin:16px 0;flex-wrap:wrap}
.sheet-actions{display:flex;justify-content:flex-start;margin-top:8px}
.full{width:100%}
.xl{font-size:20px}
.lg{font-size:16px}
.big{font-size:20px}
.row.spaced{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.foot{padding:16px;color:var(--muted);border-top:1px solid var(--border)}
/* Modals */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;z-index:10}
.modal[aria-hidden="true"]{pointer-events:none}
.modal-card{background:#141416;border:1px solid var(--border);border-radius:16px;max-width:820px;width:92vw;padding:0;max-height:88vh;display:flex;flex-direction:column;overflow:hidden}
.modal-header{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 12px;border-bottom:1px solid var(--border)}
.pane{padding:14px;overflow:auto;max-height:70vh}
.modal-footer{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 12px;border-top:1px solid var(--border)}
.modal-footer.two{justify-content:space-between}
.list{display:flex;flex-direction:column;gap:8px}
.list-item{background:#0f1012;border:1px solid var(--border);color:#f3f4f6;padding:14px;border-radius:12px;text-align:left}
input[type="checkbox"]{transform:scale(1.2)} 
input[type="text"], input[type="search"], input[type="number"], input[type="password"]{background:#0d0e10;border:1px solid var(--border);color:#fff;border-radius:10px;padding:10px 12px}

.modal.hidden{display:none!important;pointer-events:none!important}

/* White primary CTAs */
.primary{background:#ffffff!important;color:#0b0b0c!important;border:1px solid #ffffff!important}

/* High-radius pills on all CTAs */
.ghost,.primary,.success,.danger,.link,.chev,.badge,.list-item{border-radius:9999px!important}

/* Tricks overlay hierarchy */
.list label.cat{font-size:28px;font-weight:900;padding:12px 14px;background:#101215;border:1px solid #2a2b2f;display:block;margin:10px 0 8px 0;border-radius:14px}
.list input[type="checkbox"].cat{transform:scale(1.6)}
.list .sub{margin:8px 0 20px 16px;border-left:2px solid #232429;padding-left:12px}
.list .sub label{font-size:14px;font-weight:600;background:#0e0f11;border:1px solid #1f2024;border-radius:12px;padding:8px 10px}
